{"ast":null,"code":"// //.......................................................................................................\nimport React,{useState,useEffect,useContext}from'react';import{useParams}from'react-router-dom';import{ThemeContext}from'../context/ThemeContext';import axios from'axios';import'./OTPPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OTPPage=()=>{console.log('OTPPage component rendered');// Debugging\nconst{theme}=useContext(ThemeContext);const{otp}=useParams();const[message,setMessage]=useState('');useEffect(()=>{console.log('useEffect triggered');// Debugging\nnavigator.geolocation.getCurrentPosition(async position=>{const{latitude,longitude}=position.coords;console.log('Fetched location:',{latitude,longitude});// Debugging\ntry{const response=await axios.post(`http://localhost:5000/api/users/otp/${otp}`,{latitude,longitude});console.log('Backend response:',response.data);// Debugging\nsetMessage(`OTP: ${otp}. Location stored successfully.`);}catch(error){console.error('Error storing location:',error);// Debugging\nsetMessage('Failed to store location. Please try again.');}},error=>{console.error('Geolocation error:',error);// Debugging\nsetMessage('Failed to get location. Please enable GPS and try again.');});},[otp]);return/*#__PURE__*/_jsxs(\"div\",{className:`otp-page-container ${theme}`,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your OTP\"}),/*#__PURE__*/_jsx(\"p\",{children:message})]});};export default OTPPage;","map":{"version":3,"names":["React","useState","useEffect","useContext","useParams","ThemeContext","axios","jsx","_jsx","jsxs","_jsxs","OTPPage","console","log","theme","otp","message","setMessage","navigator","geolocation","getCurrentPosition","position","latitude","longitude","coords","response","post","data","error","className","children"],"sources":["E:/project1/otp-location-fraud-detection-frontend/src/components/OTPPage.js"],"sourcesContent":["\r\n// //.......................................................................................................\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { ThemeContext } from '../context/ThemeContext';\r\nimport axios from 'axios';\r\nimport './OTPPage.css';\r\n\r\nconst OTPPage = () => {\r\n  console.log('OTPPage component rendered'); // Debugging\r\n  const { theme } = useContext(ThemeContext);\r\n  const { otp } = useParams();\r\n  const [message, setMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    console.log('useEffect triggered'); // Debugging\r\n    navigator.geolocation.getCurrentPosition(\r\n      async (position) => {\r\n        const { latitude, longitude } = position.coords;\r\n        console.log('Fetched location:', { latitude, longitude }); // Debugging\r\n\r\n        try {\r\n          const response = await axios.post(`http://localhost:5000/api/users/otp/${otp}`, {\r\n            latitude,\r\n            longitude,\r\n          });\r\n\r\n          console.log('Backend response:', response.data); // Debugging\r\n          setMessage(`OTP: ${otp}. Location stored successfully.`);\r\n        } catch (error) {\r\n          console.error('Error storing location:', error); // Debugging\r\n          setMessage('Failed to store location. Please try again.');\r\n        }\r\n      },\r\n      (error) => {\r\n        console.error('Geolocation error:', error); // Debugging\r\n        setMessage('Failed to get location. Please enable GPS and try again.');\r\n      }\r\n    );\r\n  }, [otp]);\r\n\r\n  return (\r\n    <div className={`otp-page-container ${theme}`}>\r\n      <h2>Your OTP</h2>\r\n      <p>{message}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OTPPage;"],"mappings":"AACA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CAC9D,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,YAAY,KAAQ,yBAAyB,CACtD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvB,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpBC,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC,CAAE;AAC3C,KAAM,CAAEC,KAAM,CAAC,CAAGX,UAAU,CAACE,YAAY,CAAC,CAC1C,KAAM,CAAEU,GAAI,CAAC,CAAGX,SAAS,CAAC,CAAC,CAC3B,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAE1CC,SAAS,CAAC,IAAM,CACdU,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC,CAAE;AACpCK,SAAS,CAACC,WAAW,CAACC,kBAAkB,CACtC,KAAO,CAAAC,QAAQ,EAAK,CAClB,KAAM,CAAEC,QAAQ,CAAEC,SAAU,CAAC,CAAGF,QAAQ,CAACG,MAAM,CAC/CZ,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAE,CAAES,QAAQ,CAAEC,SAAU,CAAC,CAAC,CAAE;AAE3D,GAAI,CACF,KAAM,CAAAE,QAAQ,CAAG,KAAM,CAAAnB,KAAK,CAACoB,IAAI,CAAC,uCAAuCX,GAAG,EAAE,CAAE,CAC9EO,QAAQ,CACRC,SACF,CAAC,CAAC,CAEFX,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAEY,QAAQ,CAACE,IAAI,CAAC,CAAE;AACjDV,UAAU,CAAC,QAAQF,GAAG,iCAAiC,CAAC,CAC1D,CAAE,MAAOa,KAAK,CAAE,CACdhB,OAAO,CAACgB,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAAE;AACjDX,UAAU,CAAC,6CAA6C,CAAC,CAC3D,CACF,CAAC,CACAW,KAAK,EAAK,CACThB,OAAO,CAACgB,KAAK,CAAC,oBAAoB,CAAEA,KAAK,CAAC,CAAE;AAC5CX,UAAU,CAAC,0DAA0D,CAAC,CACxE,CACF,CAAC,CACH,CAAC,CAAE,CAACF,GAAG,CAAC,CAAC,CAET,mBACEL,KAAA,QAAKmB,SAAS,CAAE,sBAAsBf,KAAK,EAAG,CAAAgB,QAAA,eAC5CtB,IAAA,OAAAsB,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjBtB,IAAA,MAAAsB,QAAA,CAAId,OAAO,CAAI,CAAC,EACb,CAAC,CAEV,CAAC,CAED,cAAe,CAAAL,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}